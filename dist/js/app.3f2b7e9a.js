(function(){"use strict";var e={7804:function(e,t,a){var l=a(9242),n=a(3396);const o={class:"app full-size-percents"};function i(e,t,a,l,i,s){const r=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(r,{class:"full-size-percents"})])}var s={name:"App"},r=a(89);const c=(0,r.Z)(s,[["render",i]]);var d=c;const p=["value"];function u(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("input",{class:"input-text",type:"text",value:a.modelValue,onInput:t[0]||(t[0]=(...e)=>i.updateInput&&i.updateInput(...e))},null,40,p)}var h={name:"my-text-input",props:{modelValue:[String,Number]},methods:{updateInput(e){this.$emit("update:modelValue",e.target.value)}}};const m=(0,r.Z)(h,[["render",u],["__scopeId","data-v-018e3684"]]);var _=m;const g={class:"btn"};function v(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("button",g,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var w={name:"my-btn"};const f=(0,r.Z)(w,[["render",v],["__scopeId","data-v-c5e25cba"]]);var k=f,y=a(7139);const j={class:"my-select"},I={key:0,class:"my-select__placeholder"},b=["value"],V=["value"];function A(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("div",j,[o.selectedValue?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",I,(0,y.zw)(a.placeholderText),1)),(0,n._)("select",{class:"my-select__select",value:o.selectedValue,onChange:t[0]||(t[0]=(...e)=>i.changeOption&&i.changeOption(...e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.options,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.id},(0,y.zw)(i.hasName?e.name:e.id),9,V)))),128))],40,b)])}var D={name:"my-select",props:{modelValue:{type:String,default:null},options:{type:Array,default:()=>[{name:"Выберите из предыдущего списка"}]},placeholderText:{type:String,default:"Choose from list..."}},data(){return{selectedValue:this.modelValue}},methods:{changeOption(e){this.selectedValue=e.target.value,this.$emit("update:modelValue",this.selectedValue)}},computed:{hasName(){return"name"in this.options[0]}}};const L=(0,r.Z)(D,[["render",A],["__scopeId","data-v-7297a70e"]]);var C=L;function P(e,t,a,o,i,s){return a.show?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"dialog",onClick:t[1]||(t[1]=(...e)=>s.hideDialog&&s.hideDialog(...e))},[(0,n._)("div",{class:"dialog__content",onClick:t[0]||(t[0]=(0,l.iM)((()=>{}),["stop"]))},[(0,n.WI)(e.$slots,"default",{},void 0,!0)])])):(0,n.kq)("",!0)}var U={name:"my-dialog",props:{show:{type:Boolean,default:!1}},methods:{hideDialog(){this.$emit("update:show",!1)}}};const W=(0,r.Z)(U,[["render",P],["__scopeId","data-v-6d958766"]]);var x=W,R=[_,k,C,x],Z=a(2483);const $={class:"login-grid"},N={class:"login-form"};function S(e,t,a,l,o,i){const s=(0,n.up)("my-text-input"),r=(0,n.up)("my-btn");return(0,n.wg)(),(0,n.iD)("div",$,[(0,n._)("div",N,[(0,n.Wm)(s,{class:"login-form__login-input",placeholder:"Имя пользователя",modelValue:o.login,"onUpdate:modelValue":t[0]||(t[0]=e=>o.login=e)},null,8,["modelValue"]),(0,n.Wm)(s,{class:"login-form__password-input",placeholder:"Пароль",modelValue:o.password,"onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e)},null,8,["modelValue"]),(0,n.Wm)(r,{class:"login-form__btn",onClick:i.checkLogin},{default:(0,n.w5)((()=>[(0,n.Uk)((0,y.zw)(o.loginText),1)])),_:1},8,["onClick"])])])}a(7658);var O=a(4161),z={name:"login-page",data(){return{serverLink:"https://shikidy.mrsmori.moe",placeholderRoleSelect:"Роль",loginText:"Вход",login:"",password:""}},methods:{async checkLogin(){try{const e=await O.Z.get(`${this.serverLink}/login`,{headers:{"content-type":"application/javascript"},params:{login:this.login,password:this.password},withCredentials:!0});this.role=e.data,this.$router.push("/")}catch(e){alert(e)}}}};const q=(0,r.Z)(z,[["render",S],["__scopeId","data-v-5c8bfda0"]]);var E=q;const M={key:2,class:"unlogin"};function T(e,t,a,l,o,i){const s=(0,n.up)("analytic-math-page"),r=(0,n.up)("creator-resulter-page");return this.role===this.analyticRole||this.role===this.mathRole?((0,n.wg)(),(0,n.j4)(s,{key:0,serverLink:o.serverLink},null,8,["serverLink"])):this.role===this.creatorRole||this.role===this.resulterRole?((0,n.wg)(),(0,n.j4)(r,{key:1,serverLink:o.serverLink},null,8,["serverLink"])):((0,n.wg)(),(0,n.iD)("div",M,"Войдите, чтобы использовать сайт"))}const F={class:"first-grid"},B={class:"selects"},G={key:0,class:"status-form"},H={class:"status-form__status-text"},K={key:1,class:"math-form"},Y={action:"graphic",target:"_blank"},J={class:"table-wrapper"};function Q(e,t,a,l,o,i){const s=(0,n.up)("my-select"),r=(0,n.up)("my-btn"),c=(0,n.up)("my-table"),d=(0,n.up)("my-dialog");return(0,n.wg)(),(0,n.iD)("div",F,[(0,n._)("div",B,[(0,n.Wm)(s,{class:"selects__project","placeholder-text":"Выбрать проект...",modelValue:o.selectedProjectId,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedProjectId=e),options:o.projects},null,8,["placeholder-text","modelValue","options"]),(0,n.Wm)(s,{class:"selects__area","placeholder-text":"Выбрать площадь...",modelValue:o.selectedAreaId,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedAreaId=e),options:o.areas},null,8,["placeholder-text","modelValue","options"]),(0,n.Wm)(s,{class:"selects__line","placeholder-text":"Выбрать маршрут...",modelValue:o.selectedLineId,"onUpdate:modelValue":t[2]||(t[2]=e=>o.selectedLineId=e),options:o.lines},null,8,["placeholder-text","modelValue","options"])]),this.role===this.analyticRole?((0,n.wg)(),(0,n.iD)("div",G,[(0,n._)("p",H,"Статус: "+(0,y.zw)(o.statusData),1),(0,n.Wm)(r,{class:"status-form__confirm-btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("Подтвердить")])),_:1}),(0,n.Wm)(r,{class:"status-form__cancel-btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("Отменить")])),_:1})])):(0,n.kq)("",!0),this.role===this.mathRole?((0,n.wg)(),(0,n.iD)("div",K,[(0,n.Wm)(r,{class:"math-form__get-max-btn",onClick:i.openMax},{default:(0,n.w5)((()=>[(0,n.Uk)("Получить высшее значение ")])),_:1},8,["onClick"]),(0,n.Wm)(r,{class:"math-form__get-average-a-btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("Получить среднее значение A")])),_:1}),(0,n.Wm)(r,{class:"math-form__get-average-route-btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("Получить среднее значение по всему маршруту")])),_:1}),(0,n._)("form",Y,[(0,n.Wm)(r,{class:"math-form__open-graphic-btn"},{default:(0,n.w5)((()=>[(0,n.Uk)("Вывести график по точке")])),_:1})])])):(0,n.kq)("",!0),(0,n._)("div",J,[(0,n.Wm)(c,{class:"table-wrapper__table",items:o.points},null,8,["items"])]),(0,n.Wm)(d,{show:o.dialogVisible,"onUpdate:show":t[3]||(t[3]=e=>o.dialogVisible=e)},{default:(0,n.w5)((()=>[(0,n._)("p",null,"Высшее значение: "+(0,y.zw)(i.getMax()),1)])),_:1},8,["show"])])}const X=e=>((0,n.dD)("data-v-7b454a5c"),e=e(),(0,n.Cn)(),e),ee={class:"my-table__wrapper"},te={class:"table-main"},ae=X((()=>(0,n._)("tr",null,[(0,n._)("th",null,"ID"),(0,n._)("th",null,"T"),(0,n._)("th",null,"A")],-1)));function le(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("table",te,[ae,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.items,(e=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,y.zw)(e.id),1),(0,n._)("td",null,(0,y.zw)(e.x),1),(0,n._)("td",null,(0,y.zw)(e.y),1)])))),128))])])}var ne={name:"my-table",props:{items:Array}};const oe=(0,r.Z)(ne,[["render",le],["__scopeId","data-v-7b454a5c"]]);var ie=oe,se={name:"analytic-math-page",data(){return{selectedProjectId:null,selectedAreaId:null,selectedLineId:null,projects:[],areas:[{name:"Сначала выберите проект"}],lines:[{name:"Сначала выберите площадь"}],points:[],analyticRole:"analitic",mathRole:"math",uncheckedStatus:"не проверен",checkedStatus:"проверен",statusData:null,dialogVisible:!1}},props:{serverLink:String},components:{MyTable:ie},mounted(){this.checkLRole(),this.fetchProjects()},watch:{selectedProjectId(){this.fetchAreas(this.selectedProjectId)},selectedAreaId(){this.fetchLines(this.selectedAreaId)},selectedLineId(){this.fetchPoints(this.selectedLineId)}},methods:{async checkLRole(){try{const e=await O.Z.get(`${this.serverLink}/role`,{headers:{"content-type":"application/javascript"},withCredentials:!0});this.role=e.data.role}catch(e){alert(e)}},async fetchProjects(){try{const e=await O.Z.get(`${this.serverLink}/projects`,{headers:{"content-type":"application/javascript"},withCredentials:!0});this.projects=e.data}catch(e){alert(e)}},async fetchAreas(e){try{const t=await O.Z.get(`${this.serverLink}/areas`,{headers:{"content-type":"application/javascript"},params:{project_id:e},withCredentials:!0});this.areas=t.data}catch(t){console.log(t)}},async fetchLines(e){try{const t=await O.Z.get(`${this.serverLink}/lines`,{headers:{"content-type":"application/javascript"},params:{area_id:e},withCredentials:!0});this.lines=t.data}catch(t){console.log(t)}},async fetchPoints(e){try{const t=await O.Z.get(`${this.serverLink}/points`,{headers:{"content-type":"application/javascript"},params:{line_id:e},withCredentials:!0});this.points=t.data}catch(t){console.log(t)}},openMax(){this.dialogVisible=!0},getMax(){return this.points.length>0?Math.max(...this.points.map((e=>e.x))):"маршрут не выбран"},getAverageA(){},getAverageLine(){}}};const re=(0,r.Z)(se,[["render",Q],["__scopeId","data-v-5be43a4c"]]);var ce=re;const de={class:"second-grid"},pe={class:"project_creator"},ue={class:"area_creator"},he={class:"line_creator"},me={class:"point_creator"},_e={class:"table-wrapper"};function ge(e,t,a,l,o,i){const s=(0,n.up)("my-select"),r=(0,n.up)("my-btn"),c=(0,n.up)("about-form"),d=(0,n.up)("my-table"),p=(0,n.up)("add-project-form"),u=(0,n.up)("my-dialog"),h=(0,n.up)("delete-form"),m=(0,n.up)("add-area-form");return(0,n.wg)(),(0,n.iD)("div",de,[(0,n._)("div",pe,[(0,n.Wm)(s,{class:"project_creator__select","placeholder-text":"Выбрать проект...",modelValue:o.selectedProjectId,"onUpdate:modelValue":t[0]||(t[0]=e=>o.selectedProjectId=e),options:o.projects},null,8,["placeholder-text","modelValue","options"]),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"project_creator__add-btn",onClick:this.openAddProject},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить проект")])),_:1},8,["onClick"])):(0,n.kq)("",!0),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:1,class:"project_creator__delete-btn",modelValue:o.selectedProjectId,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedProjectId=e),onClick:this.openDeleteProject},{default:(0,n.w5)((()=>[(0,n.Uk)("Удалить проект")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0)]),(0,n._)("div",ue,[(0,n.Wm)(s,{class:"area_creator__select","placeholder-text":"Выбрать площадь...",options:o.areas,modelValue:o.selectedAreaId,"onUpdate:modelValue":t[2]||(t[2]=e=>o.selectedAreaId=e)},null,8,["placeholder-text","options","modelValue"]),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"area_creator__add-btn",modelValue:o.selectedAreaId,"onUpdate:modelValue":t[3]||(t[3]=e=>o.selectedAreaId=e),onClick:this.openAddArea},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить площадь")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:1,class:"area_creator__delete-btn",modelValue:o.selectedAreaId,"onUpdate:modelValue":t[4]||(t[4]=e=>o.selectedAreaId=e),onClick:this.openDeleteArea},{default:(0,n.w5)((()=>[(0,n.Uk)("Удалить площадь")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0)]),(0,n._)("div",he,[(0,n.Wm)(s,{class:"line_creator__select","placeholder-text":"Выбрать путь...",options:o.lines,modelValue:o.selectedLineId,"onUpdate:modelValue":t[5]||(t[5]=e=>o.selectedLineId=e)},null,8,["placeholder-text","options","modelValue"]),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"line_creator__add-btn",modelValue:o.selectedLineId,"onUpdate:modelValue":t[6]||(t[6]=e=>o.selectedLineId=e),onClick:this.openAddLine},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить путь")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:1,class:"line_creator__delete-btn",modelValue:o.selectedLineId,"onUpdate:modelValue":t[7]||(t[7]=e=>o.selectedLineId=e),onClick:this.openDeleteLine},{default:(0,n.w5)((()=>[(0,n.Uk)("Удалить путь")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0)]),(0,n._)("div",me,[(0,n.Wm)(s,{class:"point_creator__select","placeholder-text":"Выбрать точку...",modelValue:o.selectedPointId,"onUpdate:modelValue":t[8]||(t[8]=e=>o.selectedPointId=e),options:o.points},null,8,["placeholder-text","modelValue","options"]),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:0,class:"point_creator__add-btn",modelValue:o.selectedPointId,"onUpdate:modelValue":t[9]||(t[9]=e=>o.selectedPointId=e),onClick:this.openAddPoint},{default:(0,n.w5)((()=>[(0,n.Uk)("Добавить точку")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0),this.role===this.creatorRole?((0,n.wg)(),(0,n.j4)(r,{key:1,class:"point_creator__delete-btn",modelValue:o.selectedPointId,"onUpdate:modelValue":t[10]||(t[10]=e=>o.selectedPointId=e),onClick:this.openDeletePoint},{default:(0,n.w5)((()=>[(0,n.Uk)("Удалить точку")])),_:1},8,["modelValue","onClick"])):(0,n.kq)("",!0)]),(0,n.Wm)(c,{class:(0,y.C_)(i.infoDataGrid),projectId:o.selectedProjectId,areaId:o.selectedAreaId,lineId:o.selectedLineId,pointId:o.selectedPointId},null,8,["class","projectId","areaId","lineId","pointId"]),(0,n._)("div",_e,[(0,n.Wm)(d,{class:"table-wrapper__table",items:o.points},null,8,["items"])]),(0,n.Wm)(u,{class:"project__dialog",show:o.projectAdding,"onUpdate:show":t[12]||(t[12]=e=>o.projectAdding=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{link:a.serverLink,visibility:o.projectAdding,"onUpdate:visibility":t[11]||(t[11]=e=>o.projectAdding=e)},null,8,["link","visibility"])])),_:1},8,["show"]),(0,n.Wm)(u,{class:"project__dialog",show:o.projectDeleting,"onUpdate:show":t[14]||(t[14]=e=>o.projectDeleting=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{link:a.serverLink,elementId:o.selectedProjectId,typeElement:"project",visibility:o.projectDeleting,"onUpdate:visibility":t[13]||(t[13]=e=>o.projectDeleting=e)},null,8,["link","elementId","visibility"])])),_:1},8,["show"]),(0,n.Wm)(u,{class:"area__dialog",show:o.areaAdding,"onUpdate:show":t[16]||(t[16]=e=>o.areaAdding=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{link:a.serverLink,projects:o.projects,visibility:o.areaAdding,"onUpdate:visibility":t[15]||(t[15]=e=>o.areaAdding=e)},null,8,["link","projects","visibility"])])),_:1},8,["show"]),(0,n.Wm)(u,{class:"area__dialog",show:o.areaDeleting,"onUpdate:show":t[18]||(t[18]=e=>o.areaDeleting=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{link:a.serverLink,elementId:o.selectedAreaId,typeElement:"area",visibility:o.areaDeleting,"onUpdate:visibility":t[17]||(t[17]=e=>o.areaDeleting=e)},null,8,["link","elementId","visibility"])])),_:1},8,["show"]),(0,n.Wm)(u,{class:"line__dialog",show:o.lineAdding,"onUpdate:show":t[19]||(t[19]=e=>o.lineAdding=e)},null,8,["show"]),(0,n.Wm)(u,{class:"line__dialog",show:o.lineDeleting,"onUpdate:show":t[21]||(t[21]=e=>o.lineDeleting=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{link:a.serverLink,elementId:o.selectedLineId,typeElement:"line",visibility:o.lineDeleting,"onUpdate:visibility":t[20]||(t[20]=e=>o.lineDeleting=e)},null,8,["link","elementId","visibility"])])),_:1},8,["show"]),(0,n.Wm)(u,{class:"point__dialog",show:o.pointAdding,"onUpdate:show":t[22]||(t[22]=e=>o.pointAdding=e)},null,8,["show"]),(0,n.Wm)(u,{class:"point__dialog",show:o.pointDeleting,"onUpdate:show":t[24]||(t[24]=e=>o.pointDeleting=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{link:a.serverLink,elementId:o.selectedPointId,typeElement:"point",visibility:o.pointDeleting,"onUpdate:visibility":t[23]||(t[23]=e=>o.pointDeleting=e)},null,8,["link","elementId","visibility"])])),_:1},8,["show"])])}const ve={class:"info-texts"};function we(e,t,a,l,o,i){return(0,n.wg)(),(0,n.iD)("div",ve,[(0,n._)("p",null,"Номер проекта "+(0,y.zw)(a.projectId),1),(0,n._)("p",null,"Номер площади "+(0,y.zw)(a.areaId),1),(0,n._)("p",null,"Номер пути "+(0,y.zw)(a.lineId),1),(0,n._)("p",null,"Номер точки "+(0,y.zw)(a.pointId),1),(0,n._)("p",null,"Результат точки A | T "+(0,y.zw)(a.restultPoint),1)])}var fe={name:"about-form",props:{projectId:String,areaId:String,lineId:String,pointId:String,restultPoint:String}};const ke=(0,r.Z)(fe,[["render",we],["__scopeId","data-v-0221f31f"]]);var ye=ke;const je=e=>((0,n.dD)("data-v-f5ea213a"),e=e(),(0,n.Cn)(),e),Ie={class:"delete-form__main"},be=je((()=>(0,n._)("p",null,"Удалить элемент?",-1)));function Ve(e,t,a,l,o,i){const s=(0,n.up)("my-btn");return(0,n.wg)(),(0,n.iD)("div",Ie,[be,(0,n.Wm)(s,{class:"delete-form__btns_confirm",onClick:i.deleteElement},{default:(0,n.w5)((()=>[(0,n.Uk)("Подтвердить")])),_:1},8,["onClick"]),(0,n.Wm)(s,{class:"delete-form__btns_cancel",onClick:i.closeWindow},{default:(0,n.w5)((()=>[(0,n.Uk)("Отменить")])),_:1},8,["onClick"])])}var Ae={name:"delete-project-form",props:{elementId:String,link:String,typeElement:String},methods:{async deleteElement(){try{await O.Z.get(`${this.link}/${this.typeElement}_remove`,{headers:{"content-type":"application/javascript"},params:{id:this.elementId},withCredentials:!0}),this.closeWindow()}catch(e){console.log(e)}},closeWindow(){this.$emit("update:visibility",!1)}}};const De=(0,r.Z)(Ae,[["render",Ve],["__scopeId","data-v-f5ea213a"]]);var Le=De;const Ce={class:"add-project__wrapper"};function Pe(e,t,a,l,o,i){const s=(0,n.up)("my-text-input"),r=(0,n.up)("my-btn");return(0,n.wg)(),(0,n.iD)("div",Ce,[(0,n.Wm)(s,{placeholder:"Введите название проекта",modelValue:o.projectName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.projectName=e)},null,8,["modelValue"]),(0,n.Wm)(r,{class:"add-project__btns_confirm",onClick:i.sendProject},{default:(0,n.w5)((()=>[(0,n.Uk)("Подтвердить")])),_:1},8,["onClick"]),(0,n.Wm)(r,{class:"add-project__btns_cancel",onClick:i.closeWindow},{default:(0,n.w5)((()=>[(0,n.Uk)("Отменить")])),_:1},8,["onClick"])])}var Ue={name:"add-project-form",data(){return{projectName:null}},props:{link:String,visibility:Boolean},methods:{async sendProject(){if(null!==this.projectName&&""!==this.projectName&&this.projectName.indexOf(" ")<0&&this.projectName.length<20)try{await O.Z.get(`${this.link}/project_add`,{headers:{"content-type":"application/javascript"},params:{name:this.projectName},withCredentials:!0}),this.closeWindow()}catch(e){console.log(e)}},closeWindow(){this.$emit("update:visibility",!1)}}};const We=(0,r.Z)(Ue,[["render",Pe],["__scopeId","data-v-606a7b4c"]]);var xe=We;const Re={class:"add-area__main"};function Ze(e,t,a,l,o,i){const s=(0,n.up)("my-text-input"),r=(0,n.up)("my-select"),c=(0,n.up)("my-btn");return(0,n.wg)(),(0,n.iD)("div",Re,[(0,n.Wm)(s,{placeholder:"Введите название площади",modelValue:o.areaName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.areaName=e)},null,8,["modelValue"]),(0,n.Wm)(r,{class:"add-area__select__project","placeholder-text":"Выбрать проект...",modelValue:o.selectedProjectId,"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedProjectId=e),options:a.projects},null,8,["placeholder-text","modelValue","options"]),(0,n.Wm)(c,{class:"add-project__btns_confirm",onClick:i.sendProject},{default:(0,n.w5)((()=>[(0,n.Uk)("Подтвердить")])),_:1},8,["onClick"]),(0,n.Wm)(c,{class:"add-project__btns_cancel",onClick:i.closeWindow},{default:(0,n.w5)((()=>[(0,n.Uk)("Отменить")])),_:1},8,["onClick"])])}var $e={name:"add-area-form",data(){return{areaName:null,selectedProjectId:null}},props:{link:String,visibility:Boolean,projects:Array},methods:{async sendProject(){if(null!==this.areaName&&""!==this.areaName&&this.areaName.indexOf(" ")<0&&this.areaName.length<20)try{await O.Z.get(`${this.link}/create_area`,{headers:{"content-type":"application/javascript"},params:{project_id:this.selectedProjectId,name:this.areaName},withCredentials:!0}),this.closeWindow()}catch(e){console.log(e)}},closeWindow(){this.$emit("update:visibility",!1)}}};const Ne=(0,r.Z)($e,[["render",Ze],["__scopeId","data-v-12040cbc"]]);var Se=Ne,Oe={name:"creator-resulter-page",components:{MyTable:ie,AboutForm:ye,DeleteForm:Le,AddProjectForm:xe,AddAreaForm:Se},data(){return{projectAdding:!1,areaAdding:!1,lineAdding:!1,pointAdding:!1,projectDeleting:!1,areaDeleting:!1,lineDeleting:!1,pointDeleting:!1,selectedProjectId:null,selectedAreaId:null,selectedLineId:null,selectedPointId:null,projects:[],areas:[{name:"Сначала выберите проект"}],lines:[{name:"Сначала выберите площадь"}],points:[{name:"Сначала выберите путь"}],creatorRole:"creator",resulterRole:"resulter",role:null}},props:{serverLink:String},computed:{infoDataGrid(){return{"info-data_creator":this.role===this.creatorRole,"info-data_resulter":this.role===!this.creatorRole}}},mounted(){this.checkLRole(),this.fetchProjects()},watch:{selectedProjectId(){this.fetchAreas(this.selectedProjectId)},selectedAreaId(){this.fetchLines(this.selectedAreaId)},selectedLineId(){this.fetchPoints(this.selectedLineId)}},methods:{async checkLRole(){try{const e=await O.Z.get(`${this.serverLink}/role`,{headers:{"content-type":"application/javascript"},withCredentials:!0});this.role=e.data.role}catch(e){alert(e)}},async fetchProjects(){try{const e=await O.Z.get(`${this.serverLink}/projects`,{headers:{"content-type":"application/javascript"},withCredentials:!0});this.projects=e.data}catch(e){alert(e)}},async fetchAreas(e){try{const t=await O.Z.get(`${this.serverLink}/areas`,{headers:{"content-type":"application/javascript"},params:{project_id:e},withCredentials:!0});this.areas=t.data}catch(t){console.log(t)}},async fetchLines(e){try{const t=await O.Z.get(`${this.serverLink}/lines`,{headers:{"content-type":"application/javascript"},params:{area_id:e},withCredentials:!0});this.lines=t.data}catch(t){console.log(t)}},async fetchPoints(e){try{const t=await O.Z.get(`${this.serverLink}/points`,{headers:{"content-type":"application/javascript"},params:{line_id:e},withCredentials:!0});this.points=t.data}catch(t){console.log(t)}},openAddProject(){this.projectAdding=!0},openAddArea(){this.areaAdding=!0},openAddLine(){this.lineAdding=!0},openAddPoint(){this.pointAdding=!0},openDeleteProject(){null!==this.selectedProjectId?this.projectDeleting=!0:alert("Выберите проект")},openDeleteArea(){null!==this.selectedAreaId?this.areaDeleting=!0:alert("Выберите площадь")},openDeleteLine(){null!==this.selectedLineId?this.lineDeleting=!0:alert("Выберите путь")},openDeletePoint(){null!==this.selectedPointId?this.pointDeleting=!0:alert("Выберите точку")}}};const ze=(0,r.Z)(Oe,[["render",ge],["__scopeId","data-v-219e8148"]]);var qe=ze,Ee={components:{AnalyticMathPage:ce,CreatorResulterPage:qe},data(){return{serverLink:"https://shikidy.mrsmori.moe",analyticRole:"analitic",mathRole:"math",creatorRole:"creator",resulterRole:"resulter",role:null}},mounted(){this.checkLRole()},methods:{async checkLRole(){try{const e=await O.Z.get(`${this.serverLink}/role`,{headers:{"content-type":"application/javascript"},withCredentials:!0});this.role=e.data.role}catch(e){alert(e)}}}};const Me=(0,r.Z)(Ee,[["render",T]]);var Te=Me;const Fe=[{path:"/login",component:E},{path:"/",component:Te}],Be=(0,Z.p7)({routes:Fe,history:(0,Z.PO)("/")});var Ge=Be;const He=(0,l.ri)(d);R.forEach((e=>{He.component(e.name,e)})),He.use(Ge).mount("#app")}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var o=t[l]={exports:{}};return e[l](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,l,n,o){if(!l){var i=1/0;for(d=0;d<e.length;d++){l=e[d][0],n=e[d][1],o=e[d][2];for(var s=!0,r=0;r<l.length;r++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](l[r])}))?l.splice(r--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var n,o,i=l[0],s=l[1],r=l[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(r)var d=r(a)}for(t&&t(l);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(d)},l=self["webpackChunkelectrical_exploration"]=self["webpackChunkelectrical_exploration"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(7804)}));l=a.O(l)})();
//# sourceMappingURL=app.3f2b7e9a.js.map